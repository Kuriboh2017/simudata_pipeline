script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-18-02-39/cube_front/CubeDepth' 15mm_startfly_2023-09-18-18-02-39.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-18-44-48/cube_front/CubeDepth' 15mm_startfly_2023-09-18-18-44-48.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-17-05-15/cube_front/CubeDepth' 15mm_startfly_2023-09-18-17-05-15.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-17-37-54/cube_front/CubeDepth' 15mm_startfly_2023-09-18-17-37-54.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-18-10-43/cube_front/CubeDepth' 15mm_startfly_2023-09-18-18-10-43.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-16-15-54/cube_front/CubeDepth' 15mm_startfly_2023-09-18-16-15-54.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-17-29-37/cube_front/CubeDepth' 15mm_startfly_2023-09-18-17-29-37.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-15-42-33/cube_front/CubeDepth' 15mm_startfly_2023-09-18-15-42-33.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-15-59-10/cube_front/CubeDepth' 15mm_startfly_2023-09-18-15-59-10.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-16-57-11/cube_front/CubeDepth' 15mm_startfly_2023-09-18-16-57-11.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-18-35-26/cube_front/CubeDepth' 15mm_startfly_2023-09-18-18-35-26.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-17-21-28/cube_front/CubeDepth' 15mm_startfly_2023-09-18-17-21-28.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-17-54-29/cube_front/CubeDepth' 15mm_startfly_2023-09-18-17-54-29.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-17-46-07/cube_front/CubeDepth' 15mm_startfly_2023-09-18-17-46-07.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-17-13-22/cube_front/CubeDepth' 15mm_startfly_2023-09-18-17-13-22.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-16-24-10/cube_front/CubeDepth' 15mm_startfly_2023-09-18-16-24-10.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-15-50-47/cube_front/CubeDepth' 15mm_startfly_2023-09-18-15-50-47.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-16-32-21/cube_front/CubeDepth' 15mm_startfly_2023-09-18-16-32-21.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-16-40-31/cube_front/CubeDepth' 15mm_startfly_2023-09-18-16-40-31.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-18-18-55/cube_front/CubeDepth' 15mm_startfly_2023-09-18-18-18-55.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-16-07-33/cube_front/CubeDepth' 15mm_startfly_2023-09-18-16-07-33.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-16-48-52/cube_front/CubeDepth' 15mm_startfly_2023-09-18-16-48-52.log
script -c '~/run_panorama_disparity_from_depth.py -i ./15mm/15mm_startfly_2023-09-18-18-27-14/cube_front/CubeDepth' 15mm_startfly_2023-09-18-18-27-14.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-10-39-27/cube_front/CubeDepth' 28mm_startfly_2023-09-19-10-39-27.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-11-56-07/cube_front/CubeDepth' 28mm_startfly_2023-09-19-11-56-07.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-11-13-23/cube_front/CubeDepth' 28mm_startfly_2023-09-19-11-13-23.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-09-22-32/cube_front/CubeDepth' 28mm_startfly_2023-09-19-09-22-32.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-10-05-41/cube_front/CubeDepth' 28mm_startfly_2023-09-19-10-05-41.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-12-04-49/cube_front/CubeDepth' 28mm_startfly_2023-09-19-12-04-49.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-09-39-52/cube_front/CubeDepth' 28mm_startfly_2023-09-19-09-39-52.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-10-22-41/cube_front/CubeDepth' 28mm_startfly_2023-09-19-10-22-41.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-10-47-53/cube_front/CubeDepth' 28mm_startfly_2023-09-19-10-47-53.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-12-22-05/cube_front/CubeDepth' 28mm_startfly_2023-09-19-12-22-05.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-11-38-58/cube_front/CubeDepth' 28mm_startfly_2023-09-19-11-38-58.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-11-47-32/cube_front/CubeDepth' 28mm_startfly_2023-09-19-11-47-32.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-09-48-33/cube_front/CubeDepth' 28mm_startfly_2023-09-19-09-48-33.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-10-56-16/cube_front/CubeDepth' 28mm_startfly_2023-09-19-10-56-16.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-10-14-08/cube_front/CubeDepth' 28mm_startfly_2023-09-19-10-14-08.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-09-14-05/cube_front/CubeDepth' 28mm_startfly_2023-09-19-09-14-05.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-11-04-43/cube_front/CubeDepth' 28mm_startfly_2023-09-19-11-04-43.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-09-57-10/cube_front/CubeDepth' 28mm_startfly_2023-09-19-09-57-10.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-11-30-28/cube_front/CubeDepth' 28mm_startfly_2023-09-19-11-30-28.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-10-31-12/cube_front/CubeDepth' 28mm_startfly_2023-09-19-10-31-12.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-09-31-09/cube_front/CubeDepth' 28mm_startfly_2023-09-19-09-31-09.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-12-13-21/cube_front/CubeDepth' 28mm_startfly_2023-09-19-12-13-21.log
script -c '~/run_panorama_disparity_from_depth.py -i ./28mm/28mm_startfly_2023-09-19-11-21-57/cube_front/CubeDepth' 28mm_startfly_2023-09-19-11-21-57.log




#!/bin/bash

function panorama_disp_seg() {
    base_path=$1

    for subdir in ${base_path}/*; do
        if [ -d "$subdir" ]; then
            echo "Processing $subdir"
            for sub2dir in ${subdir}/*; do
                if [ -d "$sub2dir" ]; then
                    echo "Processing $sub2dir"
                    disparity_log_filename="$(basename $sub2dir)_disparity.log"
                    seg_log_filename="$(basename $sub2dir)_seg.log"
                    script -c "time ~/run_panorama_disparity_from_depth.py -i $sub2dir/cube_front/CubeDepth" "$disparity_log_filename"
                    script -c "time ~/run_seg_gray_from_color.py -i $sub2dir/cube_front/CubeSegmentation" "$seg_log_filename"
                    echo "Finished processing $sub2dir"
                    echo ""
                fi
            done
            echo "Finished processing $subdir"
        fi
    done
}

panorama_disp_seg /mnt/113-data/samba-share/simulation/train/2x_lowfly
